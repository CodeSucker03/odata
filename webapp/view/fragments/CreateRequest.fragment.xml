<core:FragmentDefinition
    xmlns:form="sap.ui.layout.form"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
>
    <Dialog
        id="createRequestDialog"
        afterClose="onAfterCloseCreateRequest"
        title="Create Leave Request"
    >
        <content>
            <form:SimpleForm
                editable="true"
                binding="{form>/}"
            >
                <Label
                    text="Loại phép"
                    required="true"
                />
                <ComboBox
                    required="true"
                    items="{master>/LeaveType}"
                    selectedKey="{form>LeaveType}"
                    change=".onChangeValue"
                    fieldGroupIds="FormField"
                >
                    <items>
                        <core:Item
                            key="{master>FieldKey}"
                            text="{master>FieldValue}"
                        />
                    </items>
                </ComboBox>

                <Label
                    text="Từ ngày"
                    required="true"
                />
                <DatePicker
                    name="StartDate"
                    required="true"
                    valueFormat="yyyyMMdd"
                    displayFormat="dd.MM.yyyy"
                    value="{form>StartDate}"
                    change=".onChangeValue"
                    fieldGroupIds="FormField"
                />

                <Label
                    text="Đến ngày"
                    required="true"
                />
                <DatePicker
                    name="EndDate"
                    required="true"
                    valueFormat="yyyyMMdd"
                    displayFormat="dd.MM.yyyy"
                    value="{form>EndDate}"
                    change=".onChangeValue"
                    fieldGroupIds="FormField"
                />

                <Label
                    text="Thời gian nghỉ"
                    required="true"
                />
                <RadioButtonGroup
                    buttons="{master>/TimeSlot}"
                    columns="4"
                    selectedIndex="{form>TimeSlotIndex}"
                    select="onRadioSelectionChange"
                    fieldGroupIds="FormField"
                >
                    <buttons>
                        <RadioButton text="{master>FieldValue}" />
                    </buttons>
                </RadioButtonGroup>

                <Label
                    text="Lý do"
                    required="true"
                />
                <TextArea
                    required="true"
                    rows="3"
                    growingMaxLines="3"
                    value="{form>Reason}"
                    change=".onChangeValue"
                    fieldGroupIds="FormField"
                />
            </form:SimpleForm>
        </content>
        <footer>
            <Toolbar>
                <Button
                    id="messagePopoverBtn"
                    visible="{=!!${message>/}.length}"
                    icon="{ path: '/', formatter: '.buttonIconFormatter' }"
                    type="{ path: '/', formatter: '.buttonTypeFormatter' }"
                    text="{path: '/', formatter: '.highestSeverityMessages' }"
                    press=".handleMessagePopoverPress"
                    ariaHasPopup="Dialog"
                />
                <ToolbarSpacer />
                <Button
                    text="Submit"
                    type="Emphasized"
                    press="onSubmitCreateRequest"
                />
                <Button
                    text="Cancel"
                    press="onCloseCreateRequest"
                />
            </Toolbar>
        </footer>
    </Dialog>
</core:FragmentDefinition>
